<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>Examples</title>
<meta name="description" content="">
<meta name="keywords" content="">
<link href="" rel="stylesheet">
</head>
<script src="wheel.js"></script>
<style>
	*{
		margin:0;
		padding:0;
	}
	#wrap{
		overflow: hidden;
		position: relative;
		width: 500px;
		height: 500px;
		padding:5px;
		border:1px solid #999;
		margin:50px auto;
		background: rgba(255,0,0,.1);
	}
	#box{
		position: absolute;
		top:0;
		left: 0;
		width: 485px;
	}
	h2{
		text-align: center;
		line-height: 20px;
		font-size: 16px;
		font-weight: bold;
		color:#eee;
		text-shadow: 0 1px 10px red;
	}
	p{
		line-height: 15px;
		font-size:14px;
		padding:5px 0;
		text-align: justify;
		color:blue;
	}
	p:nth-child(2){
		text-indent: 60px;
	}
	p:nth-child(3){
		text-indent: 18px;
	}
	p > small{
		font-size: 10px;
		font-weight: bold;
		color:blue;
	}
	#bar-wrap{
		position: absolute;
		width: 10px;
		height:510px; 
		border:1px solid #999;
		background-color: #ccc;
		border-right: none;
		top:0;
		right:0;
	}
	#bar{
		position: absolute;
		top: 0;
		left: 0;
		width: 10px;
		height: 30px;
		background-color: #000;
		border-radius: 5px;
		cursor: pointer;
	}
</style>
<body>
    <div id="wrap">
    	<div id="box">
	    	<h2>气质女生与世界先生</h2>
			<p><small>这个追求者有点儿拽</small></p>
			<p>我把衣柜翻了个底朝天，花花绿绿地堆了满床。</p>
			<p>谢雨帆盘腿坐在电脑前打游戏，嗑着瓜子眼皮也不抬一下，半晌才悠悠地吐出一句，“人，贵有自知之明，”他说完，继续猛点鼠标，嘴里的瓜子壳儿还吐到了我裙子上。我从鼻孔里嗤了一声，谁要跟这种吃瓜子的琐碎男人计较。</p>
			<p>半个小时后，我选了一件刺绣小吊带，牛仔热裤，在镜子面前蹦蹦跳跳地摆着POSE。谢雨帆终于站了起来，他从衣柜里扯出一件大衣，砸在我身上，“有芙蓉姐姐露了，谁还看你？不如包个严实的，指不定就红了。”</p>
			<p>“你说我不如芙蓉姐姐?”我恼羞成怒了。</p>
			<p>这可是你自己说的，”谢雨帆伸伸懒腰，“学生会有事，我先走了。”当然，走之前他是不会忘记把剩下的瓜子打包的。</p>
			<p>我看着谢雨帆的背影，有那么一点儿惆怅，这位比我还拽的人，便是我的追求者。这位追求者每个周末必定来看我，风雨无阻，当然，他来蹭免费网上，把我的零食搜到完后，连包泡面也要蹭。</p>
			<p>他还很会说甜言蜜语，比如，夸我像芙蓉姐姐。</p>
			<p>所以，他追了我半年，我们依然是——光棍两枝。</p>
			<p>气质女生与世界先生的晚餐</p>
			<p>学校的“气质女生选拔赛”，我过关斩将一路杀进了决赛。谢雨帆用一种难以置信的眼光打量着我，“李茹菲，我们学校的女生是不是都没报名?”</p>
			<p>埋着头啃比萨的我不得不抽空瞪了他一眼，接着用手比画了一下，谢雨帆就把布丁和小面包推到我面前。我一边吃一边斜瞄着菜单，谢雨帆铁公鸡拔毛，这样千年等一回的机会，我怎么可能错过。</p>
			<p>大脑飞快地转动着，我的电费，我的键盘磨损费，我的薯片我的巧克力我的乌克兰大樱桃，以及我的方便面。直到觉得差不多吃够本的时候，我直起腰，优雅地擦擦嘴，我说：“还可以再要份意大利面吗?”</p>
			<p>原本抹着汗准备埋单的谢雨帆像触电般抬起头，半晌才机械地点点头。我吃得眉飞色舞时，他担忧地看着我：“你是不是被什么附体了?你确定是你一个人在吃?</p>
			<p>面条吃到一半，谢雨帆去上厕所，可直到我把面条吃光，最后把盘子刮得干干净净时，他也没有回来。完蛋了，他不是跑路了吧！</p>
			<p>气质女生与世界先生的晚餐</p>
			<p>学校的“气质女生选拔赛”，我过关斩将一路杀进了决赛。谢雨帆用一种难以置信的眼光打量着我，“李茹菲，我们学校的女生是不是都没报名?”</p>
			<p>埋着头啃比萨的我不得不抽空瞪了他一眼，接着用手比画了一下，谢雨帆就把布丁和小面包推到我面前。我一边吃一边斜瞄着菜单，谢雨帆铁公鸡拔毛，这样千年等一回的机会，我怎么可能错过。</p>
			<p>大脑飞快地转动着，我的电费，我的键盘磨损费，我的薯片我的巧克力我的乌克兰大樱桃，以及我的方便面。直到觉得差不多吃够本的时候，我直起腰，优雅地擦擦嘴，我说：“还可以再要份意大利面吗?”</p>
			<p>原本抹着汗准备埋单的谢雨帆像触电般抬起头，半晌才机械地点点头。我吃得眉飞色舞时，他担忧地看着我：“你是不是被什么附体了?你确定是你一个人在吃?</p>
			<p>面条吃到一半，谢雨帆去上厕所，可直到我把面条吃光，最后把盘子刮得干干净净时，他也没有回来。完蛋了，他不是跑路了吧！</p>
			<p>气质女生与世界先生的晚餐</p>
			<p>学校的“气质女生选拔赛”，我过关斩将一路杀进了决赛。谢雨帆用一种难以置信的眼光打量着我，“李茹菲，我们学校的女生是不是都没报名?”</p>
			<p>埋着头啃比萨的我不得不抽空瞪了他一眼，接着用手比画了一下，谢雨帆就把布丁和小面包推到我面前。我一边吃一边斜瞄着菜单，谢雨帆铁公鸡拔毛，这样千年等一回的机会，我怎么可能错过。</p>
			<p>大脑飞快地转动着，我的电费，我的键盘磨损费，我的薯片我的巧克力我的乌克兰大樱桃，以及我的方便面。直到觉得差不多吃够本的时候，我直起腰，优雅地擦擦嘴，我说：“还可以再要份意大利面吗?”</p>
			<p>原本抹着汗准备埋单的谢雨帆像触电般抬起头，半晌才机械地点点头。我吃得眉飞色舞时，他担忧地看着我：“你是不是被什么附体了?你确定是你一个人在吃?</p>
			<p>面条吃到一半，谢雨帆去上厕所，可直到我把面条吃光，最后把盘子刮得干干净净时，他也没有回来。完蛋了，他不是跑路了吧！</p>
			<p>气质女生与世界先生的晚餐</p>
			<p>学校的“气质女生选拔赛”，我过关斩将一路杀进了决赛。谢雨帆用一种难以置信的眼光打量着我，“李茹菲，我们学校的女生是不是都没报名?”</p>
			<p>埋着头啃比萨的我不得不抽空瞪了他一眼，接着用手比画了一下，谢雨帆就把布丁和小面包推到我面前。我一边吃一边斜瞄着菜单，谢雨帆铁公鸡拔毛，这样千年等一回的机会，我怎么可能错过。</p>
			<p>大脑飞快地转动着，我的电费，我的键盘磨损费，我的薯片我的巧克力我的乌克兰大樱桃，以及我的方便面。直到觉得差不多吃够本的时候，我直起腰，优雅地擦擦嘴，我说：“还可以再要份意大利面吗?”</p>
			<p>原本抹着汗准备埋单的谢雨帆像触电般抬起头，半晌才机械地点点头。我吃得眉飞色舞时，他担忧地看着我：“你是不是被什么附体了?你确定是你一个人在吃?</p>
			<p>面条吃到一半，谢雨帆去上厕所，可直到我把面条吃光，最后把盘子刮得干干净净时，他也没有回来。完蛋了，他不是跑路了吧！</p>
			<p>气质女生与世界先生的晚餐</p>
			<p>学校的“气质女生选拔赛”，我过关斩将一路杀进了决赛。谢雨帆用一种难以置信的眼光打量着我，“李茹菲，我们学校的女生是不是都没报名?”</p>
			<p>埋着头啃比萨的我不得不抽空瞪了他一眼，接着用手比画了一下，谢雨帆就把布丁和小面包推到我面前。我一边吃一边斜瞄着菜单，谢雨帆铁公鸡拔毛，这样千年等一回的机会，我怎么可能错过。</p>
			<p>大脑飞快地转动着，我的电费，我的键盘磨损费，我的薯片我的巧克力我的乌克兰大樱桃，以及我的方便面。直到觉得差不多吃够本的时候，我直起腰，优雅地擦擦嘴，我说：“还可以再要份意大利面吗?”</p>
			<p>原本抹着汗准备埋单的谢雨帆像触电般抬起头，半晌才机械地点点头。我吃得眉飞色舞时，他担忧地看着我：“你是不是被什么附体了?你确定是你一个人在吃?</p>
			<p>面条吃到一半，谢雨帆去上厕所，可直到我把面条吃光，最后把盘子刮得干干净净时，他也没有回来。完蛋了，他不是跑路了吧！</p>
			<p>气质女生与世界先生的晚餐</p>
			<p>学校的“气质女生选拔赛”，我过关斩将一路杀进了决赛。谢雨帆用一种难以置信的眼光打量着我，“李茹菲，我们学校的女生是不是都没报名?”</p>
			<p>埋着头啃比萨的我不得不抽空瞪了他一眼，接着用手比画了一下，谢雨帆就把布丁和小面包推到我面前。我一边吃一边斜瞄着菜单，谢雨帆铁公鸡拔毛，这样千年等一回的机会，我怎么可能错过。</p>
			<p>大脑飞快地转动着，我的电费，我的键盘磨损费，我的薯片我的巧克力我的乌克兰大樱桃，以及我的方便面。直到觉得差不多吃够本的时候，我直起腰，优雅地擦擦嘴，我说：“还可以再要份意大利面吗?”</p>
			<p>原本抹着汗准备埋单的谢雨帆像触电般抬起头，半晌才机械地点点头。我吃得眉飞色舞时，他担忧地看着我：“你是不是被什么附体了?你确定是你一个人在吃?</p>
			<p>面条吃到一半，谢雨帆去上厕所，可直到我把面条吃光，最后把盘子刮得干干净净时，他也没有回来。完蛋了，他不是跑路了吧！</p>
			<p>气质女生与世界先生的晚餐</p>
			<p>学校的“气质女生选拔赛”，我过关斩将一路杀进了决赛。谢雨帆用一种难以置信的眼光打量着我，“李茹菲，我们学校的女生是不是都没报名?”</p>
			<p>埋着头啃比萨的我不得不抽空瞪了他一眼，接着用手比画了一下，谢雨帆就把布丁和小面包推到我面前。我一边吃一边斜瞄着菜单，谢雨帆铁公鸡拔毛，这样千年等一回的机会，我怎么可能错过。</p>
			<p>大脑飞快地转动着，我的电费，我的键盘磨损费，我的薯片我的巧克力我的乌克兰大樱桃，以及我的方便面。直到觉得差不多吃够本的时候，我直起腰，优雅地擦擦嘴，我说：“还可以再要份意大利面吗?”</p>
			<p>原本抹着汗准备埋单的谢雨帆像触电般抬起头，半晌才机械地点点头。我吃得眉飞色舞时，他担忧地看着我：“你是不是被什么附体了?你确定是你一个人在吃?</p>
			<p>面条吃到一半，谢雨帆去上厕所，可直到我把面条吃光，最后把盘子刮得干干净净时，他也没有回来。完蛋了，他不是跑路了吧！</p>
		</div>
		<div id="bar-wrap"><p id="bar"></p></div>
    </div>
</body>
	<script>
		~ function (){
			var owrap = document.getElementById('wrap'),
				obox = document.getElementById('box'),
				obarW= document.getElementById('bar-wrap'),
				obar=document.getElementById('bar'),
				boxH=obox.offsetHeight,
				wrapH=owrap.clientHeight,
				barWrapH=obarW.offsetHeight,
				bar=obar.offsetHeight,
				// 最大高度
				//owrap/obox=obar/obarW  
				scrollH=wrapH/boxH*barWrapH,
				maxBarH=barWrapH-scrollH-5,
				maxWrapH=boxH-wrapH;
				obar.style.height=scrollH+'px';
				console.log(maxBarH)
				function mywheel(e,d){
					var speed=obar.offsetTop;
					if(d>=0){
						speed-=10;
					}else{
						speed+=10;
					}
					speed=Math.min(speed,maxBarH);
				    speed=Math.max(0,speed);
 					obar.style.top=speed+'px';
 					var bi=speed/maxBarH*maxWrapH;
 					obox.style.top=-bi+'px'
				}
				wheel(owrap,mywheel);
				obar.onmousedown=function(e){
					e=e||window.event;
					var initY=e.clientY,
						initT=this.offsetTop;
						document.onmousemove=function(e){
							e=e||window.event;
							e.preventDefault();
							var targetT=e.clientY-initY+initT;
								targetT=Math.min(targetT,maxBarH);
							    targetT=Math.max(0,targetT);
			 					obar.style.top=targetT+'px';
			 					var bi=targetT/maxBarH*maxWrapH;
			 					obox.style.top=-bi+'px'
						}
						document.onmouseup=function (){
							document.onmousemove=null;
						}
				}
				//  单击
				obarW.onclick=function(e){
					e=e||window.event;
					var targetT=(e.clientY+document.documentElement.scrollTop)-getoffset(this).top-scrollH/2;
						targetT=Math.min(targetT,maxBarH);
						targetT=Math.max(0,targetT);
			 			obar.style.top=targetT+'px';
			 			var bi=targetT/maxBarH*maxWrapH;
			 			obox.style.top=-bi+'px'
				}

				function getoffset(ele){
					var obj={
						top:0,
						left:0
					}
					while (ele!==document.body) {
						obj.top+=ele.offsetTop;
						obj.left+=ele.offsetLeft;
						ele=ele.offsetParent;
					}
					return obj;
				}
		}();
		//wheel(document,mywheel);
		
	</script>
</html>